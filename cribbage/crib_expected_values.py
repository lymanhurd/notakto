"""Defines the approximate expected value for crib discards.'"""
from cribbage.deck import value
from typing import Dict, List, Tuple


def expected_crib(discards: List[int]) -> float:
    return CRIB_EXPECTATION_TABLE[tuple(sorted([value(d) for d in discards]))]


CRIB_EXPECTATION_TABLE: Dict[Tuple[int, ...], float] = {
    (0, 0): 5.869822,
    (0, 1): 4.647246,
    (0, 2): 4.786527,
    (0, 3): 5.700501,
    (0, 4): 5.917160,
    (0, 5): 4.447883,
    (0, 6): 4.365043,
    (0, 7): 4.284024,
    (0, 8): 4.204825,
    (0, 9): 4.127447,
    (0, 10): 4.124716,
    (0, 11): 4.023669,
    (0, 12): 3.914429,
    (1, 1): 6.153846,
    (1, 2): 7.128357,
    (1, 3): 5.025489,
    (1, 4): 5.943559,
    (1, 5): 4.529813,
    (1, 6): 4.447883,
    (1, 7): 4.367774,
    (1, 8): 4.289486,
    (1, 9): 4.213018,
    (1, 10): 4.210287,
    (1, 11): 4.109240,
    (1, 12): 4.000000,
    (2, 2): 6.558034,
    (2, 3): 5.734183,
    (2, 4): 6.653163,
    (2, 5): 4.556213,
    (2, 6): 4.529813,
    (2, 7): 4.450614,
    (2, 8): 4.373236,
    (2, 9): 4.297679,
    (2, 10): 4.294948,
    (2, 11): 4.193901,
    (2, 12): 4.084661,
    (3, 3): 6.508876,
    (3, 4): 7.255348,
    (3, 5): 5.159308,
    (3, 6): 4.449704,
    (3, 7): 4.426036,
    (3, 8): 4.349568,
    (3, 9): 4.274920,
    (3, 10): 4.272189,
    (3, 11): 4.171142,
    (3, 12): 4.061903,
    (4, 4): 9.608557,
    (4, 5): 7.340009,
    (4, 6): 6.631315,
    (4, 7): 5.924442,
    (4, 8): 5.903505,
    (4, 9): 7.402822,
    (4, 10): 7.400091,
    (4, 11): 7.299044,
    (4, 12): 7.189804,
    (5, 5): 6.678198,
    (5, 6): 5.796996,
    (5, 7): 5.091033,
    (5, 8): 5.959945,
    (5, 9): 3.975421,
    (5, 10): 3.972690,
    (5, 11): 3.871643,
    (5, 12): 3.762403,
    (6, 6): 6.522531,
    (6, 7): 7.217114,
    (6, 8): 4.547565,
    (6, 9): 3.878926,
    (6, 10): 3.930815,
    (6, 11): 3.829768,
    (6, 12): 3.720528,
    (7, 7): 5.979062,
    (7, 8): 5.136095,
    (7, 9): 4.467456,
    (7, 10): 3.835230,
    (7, 11): 3.788803,
    (7, 12): 3.679563,
    (8, 8): 5.898953,
    (8, 9): 5.056896,
    (8, 10): 4.424670,
    (8, 11): 3.694128,
    (8, 12): 3.639508,
    (9, 9): 5.820665,
    (9, 10): 5.012289,
    (9, 11): 4.281748,
    (9, 12): 3.540282,
    (10, 10): 5.807010,
    (10, 11): 4.864816,
    (10, 12): 4.025034,
    (11, 11): 5.604916,
    (11, 12): 3.923987,
    (12, 12): 5.192535,
}
